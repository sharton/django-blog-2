{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}–ë–ª–æ–≥{% endblock %}</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'blog/css/animate.min.css' %}">
    <link rel="stylesheet" href="{% static 'blog/css/style.css' %}">
</head>

<body class="bg-light">

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-sm">
  <div class="container">

    <a class="navbar-brand fw-bold" href="{% url 'post_list' %}">üìò –ú–æ–π –±–ª–æ–≥</a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navmenu">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navmenu">
      <ul class="navbar-nav me-auto">
        <li class="nav-item ms-2">
          <a class="nav-link btn btn-outline-light btn-sm text-white px-3" href="{% url 'post_create' %}">
            ‚úç –°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç
          </a>
        </li>
      </ul>

      <!-- Login/Logout -->
      <ul class="navbar-nav">
        {% if user.is_authenticated %}
          <li class="nav-item me-2">
            <span class="nav-link text-white"><b>{{ user.username }}</b></span>
          </li>
          <li class="nav-item">
            <form method="post" action="{% url 'logout' %}">
             {% csrf_token %}
            <button type="submit" class="btn btn-outline-info btn-sm px-3" >Logout</button>
            </form>
          </li>
        {% else %}
          <li class="nav-item me-2">
            <a class="btn btn-outline-info btn-sm px-3" href="{% url 'login' %}">–í–æ–π—Ç–∏</a>
          </li>
          <li class="nav-item">
            <a class="btn btn-success btn-sm px-3" href="{% url 'register' %}">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
          </li>
        {% endif %}
      </ul>
    </div>
  </div>
</nav>

<!-- MESSAGES (alerts bootstrap) -->
{% if messages %}
  <div class="container mt-3">
    {% for message in messages %}
      <div class="alert alert-{{ message.tags }} alert-dismissible fade show animate__animated animate__fadeInDown" role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
      </div>
    {% endfor %}
  </div>
{% endif %}

<!-- CONTENT -->
<div class="container mt-4">
    {% block content %}{% endblock %}
</div>

<!-- Footer -->
<footer class="text-center text-muted py-4 mt-5 border-top">
    &copy; {{ now.year }} –ú–æ–π –±–ª–æ–≥ | –°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –Ω–∞ Django
</footer>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
